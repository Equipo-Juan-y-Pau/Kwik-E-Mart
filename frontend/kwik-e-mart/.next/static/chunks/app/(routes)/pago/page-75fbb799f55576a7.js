(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[450],{94:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(5155),l=a(2115),r=a(6766);function n(){return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"font-bold text-lg mb-4",children:"Direcci\xf3n de entrega"}),(0,s.jsx)("input",{type:"text",placeholder:"Ingresa tu direcci\xf3n",className:"w-full mb-3 px-4 py-2 bg-[#2a2a2a] border border-gray-600 rounded   text-white placeholder-gray-400 focus:outline-none"}),(0,s.jsx)("input",{type:"text",placeholder:"Instrucciones de entrega (opcional)",className:"w-full px-4 py-2 bg-[#2a2a2a] border border-gray-600 rounded   text-white placeholder-gray-400 focus:outline-none"})]})}var i=a(2956),o=a(9695);function c(){let{items:e}=(0,i._)();return 0===e.length?(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"No hay art\xedculos en tu canasta."}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:"Tu pedido"}),e.map(e=>{var t;let{unit:a,total:l,old:n}=(0,o.o4)(e.promo,e.price,e.quantity);return(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(r.default,{src:null!==(t=e.image)&&void 0!==t?t:"/placeholder.png",alt:e.name,width:48,height:48,className:"w-12 h-12 rounded-full object-cover"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:[e.quantity," Unidades"]})]}),(0,s.jsx)("span",{className:"text-sm",children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{className:"line-through mr-1 text-red-400",children:["$",n.toFixed(2)]}),(0,s.jsxs)("span",{className:"text-green-400",children:["$",l.toFixed(2)]})]}):"$".concat(l.toFixed(2))})]},e.id)}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:["Entrega estimada:\xa0",(0,s.jsx)("span",{className:"font-semibold text-white",children:"49 – 69\xa0min"})]})]})}function d(e){let{label:t,value:a}=e;return(0,s.jsxs)("div",{className:"flex justify-between text-gray-300 text-sm",children:[(0,s.jsx)("span",{children:t}),(0,s.jsxs)("span",{children:["$",a.toFixed(2)]})]})}function u(e){let{onOrderPlaced:t}=e,{items:a,clear:r}=(0,i._)(),n=(0,l.useMemo)(()=>a.reduce((e,t)=>e+(0,o.o4)(t.promo,t.price,t.quantity).total,0),[a]),{envio:c,servicio:u,tipSugg:x}=(0,l.useMemo)(()=>(function(e){let t=Math.max(+(.06*e).toFixed(2),.99),a=+(.15*e).toFixed(2);return{envio:e>=40?0:4.99,servicio:t,tipSugg:a}})(n),[n]),[p,m]=(0,l.useState)(x),h=n+c+u+p;return(0,s.jsxs)("div",{className:"bg-[#2a2a2a] rounded-xl p-6 shadow-md h-fit text-white",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Resumen"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d,{label:"Costo de productos",value:n}),(0,s.jsx)(d,{label:"Costo de env\xedo",value:c}),(0,s.jsx)(d,{label:"Tarifa de servicio",value:u}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,s.jsx)("span",{className:"text-gray-300",children:"Propina"}),(0,s.jsx)("select",{className:"bg-[#2a2a2a] border border-gray-600 rounded px-2 py-0.5 focus:outline-none",value:p,onChange:e=>m(+e.target.value),children:[0,.05,.1,.15,.2].map(e=>(0,s.jsxs)("option",{value:+(n*e).toFixed(2),children:[0===e?"0 %":"".concat(100*e,"%")," (",0===e?"$0.00":"$".concat((n*e).toFixed(2)),")"]},e))})]}),(0,s.jsx)("hr",{className:"border-gray-600 my-3"}),(0,s.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{children:["$",h.toFixed(2)]})]})]}),(0,s.jsx)("button",{disabled:0===a.length,onClick:()=>{var e;if(0===a.length)return;let s="ORD-"+Date.now().toString(36).toUpperCase(),l={id:s,date:new Date().toISOString(),items:a,fees:{envio:c,servicio:u,tip:p},subtotal:n,total:h},i=JSON.parse(null!==(e=localStorage.getItem("orders"))&&void 0!==e?e:"[]");localStorage.setItem("orders",JSON.stringify([...i,l])),r(),t(s)},className:"mt-6 w-full py-3 rounded-xl font-semibold transition   bg-[#00c853] hover:bg-[#00b248] disabled:opacity-40",children:"Hacer pedido"})]})}function x(){let[e,t]=(0,l.useState)(null);return(0,s.jsxs)("div",{className:"relative isolate flex-1 flex items-center justify-center px-4 sm:px-8 py-8",children:[(0,s.jsx)(r.default,{src:"/images/superr.jpg",alt:"Background supermercado Kwik-E-Mart",fill:!0,className:"-z-20 object-cover",priority:!0}),(0,s.jsx)("div",{className:"absolute inset-0 -z-10 bg-gray-900/40 backdrop-blur-sm"}),(0,s.jsx)("div",{className:"bg-[#1e1e1e]/90 backdrop-blur-sm rounded-2xl p-8 shadow-2xl w-full max-w-6xl text-white",children:e?(0,s.jsxs)("div",{className:"flex flex-col items-center text-center gap-6 py-16",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-green-400",children:"\xa1Gracias por tu compra!"}),(0,s.jsxs)("p",{className:"text-lg",children:["Tu n\xfamero de pedido es:",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"font-mono text-yellow-300 text-2xl",children:e})]}),(0,s.jsx)("p",{className:"text-sm text-gray-300 max-w-md",children:"Recibir\xe1s un correo con los detalles y actualizaciones del env\xedo."})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(n,{}),(0,s.jsx)(c,{})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("p",{className:"font-simpson text-outline-blue text-yellow-300 text-center text-lg",children:"\xa1Gracias, vuelva pronto… y recuerde: por cada donut la quinta fuga de Squishee es cortes\xeda de la casa!"}),(0,s.jsx)(u,{onOrderPlaced:t})]})]})})]})}},2372:(e,t,a)=>{Promise.resolve().then(a.bind(a,94))},2956:(e,t,a)=>{"use strict";a.d(t,{CartProvider:()=>i,_:()=>o});var s=a(5155),l=a(2115);function r(e,t){switch(t.type){case"add":{let{id:a,options:s}=t.payload,l=e.findIndex(e=>{var t;return e.id===a&&JSON.stringify(null!==(t=e.options)&&void 0!==t?t:{})===JSON.stringify(null!=s?s:{})});if(l>=0){let a=[...e];return a[l].quantity+=t.payload.quantity,a}return[...e,t.payload]}case"remove":return e.filter(e=>e.id!==t.payload);case"update":return e.map(e=>e.id===t.payload.id?{...e,quantity:t.payload.qty}:e);case"clear":return[];default:return e}}let n=(0,l.createContext)(null);function i(e){let{children:t}=e,[a,i]=(0,l.useReducer)(r,[]),o=(0,l.useCallback)(e=>i({type:"add",payload:e}),[]),c=(0,l.useCallback)(e=>i({type:"remove",payload:e}),[]),d=(0,l.useCallback)((e,t)=>i({type:"update",payload:{id:e,qty:t}}),[]),u=(0,l.useCallback)(()=>i({type:"clear"}),[]);return(0,s.jsx)(n.Provider,{value:{items:a,addItem:o,removeItem:c,updateItemQuantity:d,clear:u},children:t})}function o(){let e=(0,l.useContext)(n);if(!e)throw Error("useCart() must be inside <CartProvider>");return e}},9695:(e,t,a)=>{"use strict";function s(e){if(!e)return null;switch(e.tipo){case"descuento":return"%".concat(e.valor);case"2x1":return"2x1";case"nuevo":return"\xa1Nuevo!";case"solo-hoy":return"\xa1S\xf3lo hoy!";default:return""}}function l(e,t,a){let s=t*a;if(!e)return{total:s,old:null,tag:null,value:null,unit:t};if("descuento"===e.tipo){let l=Math.round(t*(100-e.valor)/100*100)/100,r=l*a;return{total:r,old:r<s?s:null,tag:"Descuento",value:"-".concat(e.valor,"%"),unit:l}}if("2x1"===e.tipo){let e=t*Math.ceil(a/2);return{total:e,old:e<s?s:null,tag:"2x1",value:"\xa1Lleva 2, paga 1!",unit:t}}return{total:s,old:null,tag:e.tipo,value:null,unit:t}}a.d(t,{kv:()=>s,o4:()=>l})}},e=>{var t=t=>e(e.s=t);e.O(0,[766,441,684,358],()=>t(2372)),_N_E=e.O()}]);