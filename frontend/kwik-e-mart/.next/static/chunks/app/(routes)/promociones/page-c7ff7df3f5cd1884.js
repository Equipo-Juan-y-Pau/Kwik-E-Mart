(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{5174:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(5155),r=a(2115),l=a(6766);function o(){let[e,t]=(0,r.useState)([]),[a,o]=(0,r.useState)([]),[c,n]=(0,r.useState)([]),[i,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{t(JSON.parse(localStorage.getItem("kwikemart_promos")||"[]")),o(JSON.parse(localStorage.getItem("kwikemart_productos")||"[]")),n(JSON.parse(localStorage.getItem("kwikemart_promo_productos")||"[]")),d(!1)},[]);let x=new Date().getDay(),m=e.filter(e=>e.diasSemana.includes(x)),u=e=>{let t=c.filter(t=>t.idPromo===e).map(e=>e.idProducto);return a.filter(e=>t.includes(e.id))},g=(e,t)=>{let a="inline-flex items-center px-3 py-1 rounded-full font-bold mr-2";switch(e){case"descuento":return(0,s.jsxs)("span",{className:"".concat(a," bg-green-600 text-white animate-pulse"),children:["\uD83D\uDCB8 ",t?"".concat(t,"% OFF"):"Descuento"]});case"2x1":return(0,s.jsx)("span",{className:"".concat(a," bg-yellow-500 text-black animate-bounce"),children:"\uD83E\uDD64 2\xd71"});case"nuevo":return(0,s.jsx)("span",{className:"".concat(a," bg-pink-500 text-white animate-pulse"),children:"\uD83C\uDF1F \xa1Nuevo!"});case"solo-hoy":return(0,s.jsx)("span",{className:"".concat(a," bg-red-600 text-white animate-pulse"),children:"⏰ \xa1S\xf3lo hoy!"});default:return null}};return(0,s.jsxs)("main",{className:"min-h-screen bg-gradient-to-b from-yellow-100 to-orange-100 dark:from-gray-900 dark:to-gray-800 py-10 px-4",children:[(0,s.jsxs)("header",{className:"mb-8 text-center",children:[(0,s.jsx)("h1",{className:"font-simpson text-5xl text-yellow-600 drop-shadow-xl mb-2",children:"Promociones del D\xeda"}),(0,s.jsx)("p",{className:"text-xl text-gray-800 dark:text-gray-100",children:["\xa1Domingo de descanso!","Lunes de ahorro","Martes de locura","Mi\xe9rcoles m\xe1gico","Jueves jugoso","Viernes feliz","S\xe1bado especial"][x]}),(0,s.jsx)("div",{className:"mt-2 flex justify-center",children:(0,s.jsx)(l.default,{src:"/images/apu-feliz.png",alt:"Apu",width:200,height:200,className:"rounded-full border-4 border-yellow-400 shadow-lg"})})]}),i?(0,s.jsx)("div",{className:"flex flex-col items-center mt-20",children:(0,s.jsx)("span",{className:"text-xl text-gray-500",children:"Cargando promociones…"})}):0===m.length?(0,s.jsxs)("div",{className:"flex flex-col items-center mt-24",children:[(0,s.jsx)(l.default,{src:"/images/apu-triste.png",alt:"Apu triste",width:160,height:160,className:"mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-simpson text-gray-700 dark:text-gray-200",children:"\xa1Hoy no hay promociones activas!"}),(0,s.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:"“Muchas gracias, vuelva pronto…”"})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 xl:grid-cols-3 gap-8 max-w-6xl mx-auto",children:m.map(e=>{let t=u(e.id);return(0,s.jsxs)("article",{className:"rounded-2xl bg-white dark:bg-gray-900 shadow-xl border-4 border-yellow-400 p-6 flex flex-col gap-4 hover:scale-105 transition-all duration-300",children:[(0,s.jsxs)("header",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold font-simpson text-blue-900 dark:text-yellow-400",children:e.nombre}),g(e.tipo,e.valor)]}),(0,s.jsx)("p",{className:"text-base text-gray-700 dark:text-gray-300",children:e.descripcion}),(0,s.jsx)("section",{className:"flex flex-wrap gap-4",children:0===t.length?(0,s.jsx)("span",{className:"text-sm italic text-gray-400",children:"No hay productos asociados"}):t.map(e=>(0,s.jsxs)("div",{className:"flex flex-col items-center w-32 p-2 rounded-xl bg-yellow-50 dark:bg-gray-800 border-2 border-blue-200 dark:border-yellow-700",children:[(0,s.jsx)(l.default,{src:e.imagen,alt:e.nombre,width:70,height:70,className:"rounded-lg shadow-sm mb-2 bg-white"}),(0,s.jsx)("span",{className:"text-center text-sm font-semibold text-gray-900 dark:text-yellow-200",children:e.nombre}),(0,s.jsxs)("span",{className:"text-xs text-green-600 dark:text-green-300 mt-1",children:["$",e.precio.toFixed(2)]})]},e.id))})]},e.id)})})]})}},8467:(e,t,a)=>{Promise.resolve().then(a.bind(a,5174))}},e=>{var t=t=>e(e.s=t);e.O(0,[766,441,684,358],()=>t(8467)),_N_E=e.O()}]);