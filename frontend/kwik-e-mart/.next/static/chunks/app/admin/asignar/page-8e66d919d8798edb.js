(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{2596:(e,t,l)=>{"use strict";function a(){for(var e,t,l=0,a="",r=arguments.length;l<r;l++)(e=arguments[l])&&(t=function e(t){var l,a,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(l=0;l<o;l++)t[l]&&(a=e(t[l]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a)}return r}(e))&&(a&&(a+=" "),a+=t);return a}l.d(t,{$:()=>a,A:()=>r});let r=a},3740:(e,t,l)=>{Promise.resolve().then(l.bind(l,8843))},8843:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>c});var a=l(5155),r=l(2115),o=l(2596);let n=()=>JSON.parse(localStorage.getItem("kwikemart_productos")||"[]"),s=()=>JSON.parse(localStorage.getItem("kwikemart_promos")||"[]"),i=(e,t)=>{let l=JSON.parse(localStorage.getItem("kwikemart_asignaciones")||"[]");localStorage.setItem("kwikemart_asignaciones",JSON.stringify([...l,{productoId:e,promoId:t}]))};function c(){let[e,t]=(0,r.useState)([]),[l,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[b,g]=(0,r.useState)({});return(0,r.useEffect)(()=>{t(n()),o(s())},[]),(0,a.jsx)("section",{className:"relative min-h-[700px] p-6 pb-22",children:(0,a.jsxs)("div",{className:"mx-auto mt-12 flex max-w-xl flex-col items-center rounded-lg bg-white p-8 shadow-lg",children:[(0,a.jsx)("h1",{className:"mb-6 text-2xl font-bold text-blue-900",children:"Asignar Promoci\xf3n a Producto"}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),g({}),!c||!m)return g({err:"Selecciona un producto Y una promoci\xf3n."});i(+c,+m),g({ok:"\xa1Promoci\xf3n asignada correctamente!"}),d(""),p("")},className:"w-full space-y-6",children:[(0,a.jsx)(u,{label:"Producto",value:c,onChange:e=>d(e),color:"yellow",placeholder:"Selecciona un producto…",options:e.map(e=>{let{id:t,nombre:l}=e;return{value:t,label:l}})}),(0,a.jsx)(u,{label:"Promoci\xf3n",value:m,onChange:e=>p(e),color:"blue",placeholder:"Selecciona una promoci\xf3n…",options:l.map(e=>{let{id:t,nombre:l,descripcion:a}=e;return{value:t,label:"".concat(l," — ").concat(a)}})}),b.err&&(0,a.jsx)("p",{className:"font-semibold text-red-600",children:b.err}),b.ok&&(0,a.jsx)("p",{className:"font-semibold text-green-600",children:b.ok}),(0,a.jsx)("button",{type:"submit",className:"w-full rounded-lg bg-blue-600 py-2 text-lg font-semibold text-white transition hover:bg-blue-700",children:"Asignar Promoci\xf3n"})]})]})})}let u=e=>{let{label:t,value:l,onChange:r,placeholder:n,options:s,color:i}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block font-semibold text-gray-800",children:t}),(0,a.jsxs)("select",{value:l,onChange:e=>r(""===e.target.value?"":+e.target.value),className:(0,o.A)("w-full rounded px-3 py-2 text-lg border-2","yellow"===i?"border-yellow-400":"border-blue-400",!l&&"text-gray-400"),children:[(0,a.jsx)("option",{value:"",children:n}),0===s.length&&(0,a.jsx)("option",{disabled:!0,children:"Sin datos a\xfan"}),s.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(3740)),_N_E=e.O()}]);