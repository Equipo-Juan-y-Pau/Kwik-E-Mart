{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/components/useProductosPromo.tsx"],"sourcesContent":["// hooks/useProductosConPromo.ts\r\nimport { PromoType } from \"@/lib/localPromo\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport interface Producto {\r\n    id: number;\r\n    nombre: string;\r\n    precio: number;\r\n    imagen: string;\r\n    etiquetas: string[];\r\n    descripcion: string;\r\n    opciones?: {\r\n        color?: string[];\r\n        sabor?: string[];\r\n        tama√±o?: string[];\r\n    };\r\n    promo?: PromoType | undefined; // PromoType | undefined\r\n}\r\n\r\n// Entidad promo real\r\nexport interface Promo {\r\n    id: number;\r\n    tipo: \"descuento\" | \"2x1\" | \"nuevo\" | \"solo-hoy\";\r\n    valor?: number;\r\n    nombre: string;\r\n    descripcion: string;\r\n    diasSemana: number[];\r\n}\r\n\r\n// Relacion Promo-Producto\r\ninterface PromoProductoRel {\r\n    idProducto: number;\r\n    idPromo: number;\r\n}\r\n\r\nfunction UseProductosPromo() {\r\n    const [productos, setProductos] = useState<Producto[]>([]);\r\n\r\n    useEffect(() => {\r\n        // Lee productos, promos y relaci√≥n de localStorage\r\n        const rawProductos = JSON.parse(\r\n            localStorage.getItem(\"kwikemart_productos\") || \"[]\"\r\n        );\r\n        const promos = JSON.parse(\r\n            localStorage.getItem(\"kwikemart_promos\") || \"[]\"\r\n        );\r\n        const rel = JSON.parse(\r\n            localStorage.getItem(\"kwikemart_promo_productos\") || \"[]\"\r\n        );\r\n\r\n        // Para cada producto, asocia su promo correspondiente (si tiene)\r\n        const productosConPromo = rawProductos.map((prod: Producto) => {\r\n            // Encuentra la promo relacionada (puede ser varias, pero usamos la primera que aplique)\r\n            const relPromo = (rel as PromoProductoRel[]).find(\r\n                (rp) => rp.idProducto === prod.id\r\n            );\r\n            const promo = relPromo\r\n                ? (promos as Promo[]).find(\r\n                      (p: Promo) => p.id === relPromo.idPromo\r\n                  )\r\n                : undefined;\r\n            return { ...prod, promo };\r\n        });\r\n\r\n        setProductos(productosConPromo);\r\n    }, []);\r\n\r\n    return productos;\r\n}\r\n\r\nexport default UseProductosPromo;\r\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;AAEhC;;AAiCA,SAAS;IACL,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IAEzD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,mDAAmD;QACnD,MAAM,eAAe,KAAK,KAAK,CAC3B,aAAa,OAAO,CAAC,0BAA0B;QAEnD,MAAM,SAAS,KAAK,KAAK,CACrB,aAAa,OAAO,CAAC,uBAAuB;QAEhD,MAAM,MAAM,KAAK,KAAK,CAClB,aAAa,OAAO,CAAC,gCAAgC;QAGzD,iEAAiE;QACjE,MAAM,oBAAoB,aAAa,GAAG,CAAC,CAAC;YACxC,wFAAwF;YACxF,MAAM,WAAW,AAAC,IAA2B,IAAI,CAC7C,CAAC,KAAO,GAAG,UAAU,KAAK,KAAK,EAAE;YAErC,MAAM,QAAQ,WACR,AAAC,OAAmB,IAAI,CACpB,CAAC,IAAa,EAAE,EAAE,KAAK,SAAS,OAAO,IAE3C;YACN,OAAO;gBAAE,GAAG,IAAI;gBAAE;YAAM;QAC5B;QAEA,aAAa;IACjB,GAAG,EAAE;IAEL,OAAO;AACX;uCAEe","debugId":null}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/app/%28routes%29/productos/data/reviews.ts"],"sourcesContent":["// data/reviews.ts ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\r\n/**\r\n * Representa una rese√±a de producto.\r\n *\r\n * @property id           Id √∫nico de la rese√±a.\r\n * @property productoId   Referencia al producto.\r\n * @property usuario      Nombre (ficticio) del autor.\r\n * @property calificacion Valor de 1 a 5.\r\n * @property comentario   Texto (no se muestra a√∫n).\r\n * @property fecha        ISO-8601, p. ej. \"2025-06-23\".\r\n */\r\nexport interface Rese√±a {\r\n    id: number;\r\n    productoId: number;\r\n    usuario: string;\r\n    calificacion: number;\r\n    comentario: string;\r\n    fecha: string;\r\n}\r\n\r\n// Simulaci√≥n de api\r\n// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\r\nexport function obtenerRese√±as(): Promise<Rese√±a[]> {\r\n    return new Promise((resolve) => {\r\n        // Simula una llamada a la API con un retraso de 100 ms\r\n        setTimeout(() => {\r\n            resolve(rese√±as);\r\n        }, 100);\r\n    });\r\n}\r\n\r\n/** Conjunto de rese√±as de ejemplo. */\r\nexport const rese√±as: Rese√±a[] = [\r\n    {\r\n        id: 1,\r\n        productoId: 1,\r\n        usuario: \"Lisa\",\r\n        calificacion: 5,\r\n        comentario: \"¬°El mejor Squishee!\",\r\n        fecha: \"2025-06-22\",\r\n    },\r\n    {\r\n        id: 2,\r\n        productoId: 1,\r\n        usuario: \"Bart\",\r\n        calificacion: 4,\r\n        comentario: \"Bueno, pero le falta az√∫car.\",\r\n        fecha: \"2025-06-20\",\r\n    },\r\n    {\r\n        id: 3,\r\n        productoId: 2,\r\n        usuario: \"Homero\",\r\n        calificacion: 5,\r\n        comentario: \"√ëam √ëam √ëam.\",\r\n        fecha: \"2025-06-21\",\r\n    },\r\n    {\r\n        id: 4,\r\n        productoId: 2,\r\n        usuario: \"Marge\",\r\n        calificacion: 4,\r\n        comentario: \"Demasiado dulce para m√≠.\",\r\n        fecha: \"2025-06-21\",\r\n    },\r\n    {\r\n        id: 5,\r\n        productoId: 2,\r\n        usuario: \"Maggie\",\r\n        calificacion: 5,\r\n        comentario: \"¬°Genial!\",\r\n        fecha: \"2025-06-21\",\r\n    },\r\n    {\r\n        id: 6,\r\n        productoId: 3,\r\n        usuario: \"Milhouse\",\r\n        calificacion: 3,\r\n        comentario: \"No es Buzz Cola de verdad.\",\r\n        fecha: \"2025-06-19\",\r\n    },\r\n];\r\n"],"names":[],"mappings":"AAAA,8EAA8E;AAC9E;;;;;;;;;CASC;;;;AAYM,SAAS;IACZ,OAAO,IAAI,QAAQ,CAAC;QAChB,uDAAuD;QACvD,WAAW;YACP,QAAQ;QACZ,GAAG;IACP;AACJ;AAGO,MAAM,UAAoB;IAC7B;QACI,IAAI;QACJ,YAAY;QACZ,SAAS;QACT,cAAc;QACd,YAAY;QACZ,OAAO;IACX;IACA;QACI,IAAI;QACJ,YAAY;QACZ,SAAS;QACT,cAAc;QACd,YAAY;QACZ,OAAO;IACX;IACA;QACI,IAAI;QACJ,YAAY;QACZ,SAAS;QACT,cAAc;QACd,YAAY;QACZ,OAAO;IACX;IACA;QACI,IAAI;QACJ,YAAY;QACZ,SAAS;QACT,cAAc;QACd,YAAY;QACZ,OAAO;IACX;IACA;QACI,IAAI;QACJ,YAAY;QACZ,SAAS;QACT,cAAc;QACd,YAAY;QACZ,OAAO;IACX;IACA;QACI,IAAI;QACJ,YAAY;QACZ,SAAS;QACT,cAAc;QACd,YAAY;QACZ,OAAO;IACX;CACH","debugId":null}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/app/%28routes%29/productos/components/ProductCard.tsx"],"sourcesContent":["// components/catalogo/ProductCard.tsx\r\n\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport { Producto } from \"@/lib/data/productos\";\r\nimport { getTotalPromo, getPromoLabel } from \"@/lib/precio-producto\";\r\nimport { rese√±as } from \"../data/reviews\";\r\n\r\nimport { useWishlist } from \"@/context/WishListContext\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Heart } from \"lucide-react\";\r\n\r\ninterface Props {\r\n    /** Producto a representar. */\r\n    producto: Producto;\r\n    /** A√±ade una unidad (r√°pida) al carrito. */\r\n    onAdd: (p: Producto) => void;\r\n    /** Abre el modal detalle. */\r\n    onSelect: (p: Producto) => void;\r\n}\r\n\r\n/* -------------------------------------------------------------------------- */\r\n/*                               Helpers internos                             */\r\n/* -------------------------------------------------------------------------- */\r\n\r\n/** Calcula el promedio (1-5) de calificaciones para un producto. */\r\nconst obtenerPromedioCalificacion = (productoId: number): number | null => {\r\n    const res = rese√±as.filter((r) => r.productoId === productoId);\r\n    if (!res.length) return null;\r\n    return res.reduce((acc, r) => acc + r.calificacion, 0) / res.length;\r\n};\r\n\r\n/** Badge visual para la nota media. */\r\nconst RatingBadge = ({ rating }: { rating?: number | null }) => (\r\n    <span className=\"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-yellow-50 text-gray-800 text-base font-bold shadow-sm\">\r\n        <svg\r\n            viewBox=\"0 0 20 20\"\r\n            className=\"w-5 h-5 text-yellow-400\"\r\n            fill=\"currentColor\">\r\n            <path d=\"M10 15l-5.09 2.67 1-5.8-4.21-4.1 5.82-.85L10 2.5l2.48 5.02 5.82.85-4.21 4.1 1 5.8z\" />\r\n        </svg>\r\n        {typeof rating === \"number\" ? (\r\n            rating.toFixed(1)\r\n        ) : (\r\n            <span className=\"opacity-50\">‚Äì</span>\r\n        )}\r\n    </span>\r\n);\r\n\r\n/* -------------------------------------------------------------------------- */\r\n/*                               Componente UI                                */\r\n/* -------------------------------------------------------------------------- */\r\nexport default function ProductCard({ producto, onAdd, onSelect }: Props) {\r\n    const { unit: precioPromo, old: precioOld } = getTotalPromo(\r\n        producto.promo,\r\n        producto.precio,\r\n        1\r\n    );\r\n    const promedio = obtenerPromedioCalificacion(producto.id);\r\n    const hasPromo = Boolean(producto.promo);\r\n    const promoLabel = getPromoLabel(producto.promo);\r\n    const srcImg = producto.imagen.startsWith(\"/\")\r\n        ? producto.imagen\r\n        : `/images/${producto.imagen}`;\r\n\r\n    // --- L√ìGICA PARA AGREGAR A WISHLIST ---\r\n    const { addToWishlist, removeFromWishlist, isInWishlist } = useWishlist();\r\n    const isProductInWishlist = isInWishlist(producto.id);\r\n\r\n    const handleWishlistClick = (e: React.MouseEvent) => {\r\n        e.stopPropagation(); // Evita que se abra el modal de detalles\r\n        if (isProductInWishlist) {\r\n            removeFromWishlist(producto.id);\r\n        } else {\r\n            addToWishlist(producto);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div\r\n            onClick={() => onSelect(producto)}\r\n            className={`relative cursor-pointer bg-white dark:[background-color:oklch(0.83_0.01_258.02)]\r\n                 rounded-2xl shadow-md hover:shadow-xl transition p-4 flex flex-col items-center\r\n                 ${\r\n                     hasPromo\r\n                         ? \"border-4 border-blue-400\"\r\n                         : \"border border-transparent\"\r\n                 }`}>\r\n            {/* Etiquetas promo */}\r\n            {hasPromo && (\r\n                <div className=\"absolute top-3 right-3 flex flex-col items-end z-10\">\r\n                    <span className=\"bg-blue-500 text-xs font-simpson text-outline-blue text-yellow-300 px-3 py-1 rounded-full shadow-md mb-1\">\r\n                        PROMO\r\n                    </span>\r\n                    <span\r\n                        className=\"text-sm font-simpson text-outline-yellow text-blue-600 drop-shadow-sm\"\r\n                        style={{ letterSpacing: \"1px\" }}>\r\n                        {promoLabel}\r\n                    </span>\r\n                </div>\r\n            )}\r\n\r\n            {/* Imagen */}\r\n            <Image\r\n                src={srcImg}\r\n                alt={producto.nombre}\r\n                width={128}\r\n                height={128}\r\n                loading=\"lazy\"\r\n                className=\"w-32 h-32 object-contain mb-4\"\r\n            />\r\n\r\n            {/* Nombre */}\r\n            <h2 className=\"text-xl font-semibold text-gray-800 text-center\">\r\n                {producto.nombre}\r\n            </h2>\r\n\r\n            {/* Calificaci√≥n */}\r\n            <div className=\"absolute top-3 left-3 z-10\">\r\n                <RatingBadge rating={promedio} />\r\n            </div>\r\n\r\n            {/* Precio */}\r\n            {precioOld ? (\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                    <span className=\"text-red-500 line-through text-lg\">\r\n                        ${precioOld.toFixed(2)}\r\n                    </span>\r\n                    <span className=\"text-green-500 text-xl font-bold\">\r\n                        ${precioPromo.toFixed(2)}\r\n                    </span>\r\n                </div>\r\n            ) : (\r\n                <p className=\"text-green-500 dark:text-black font-bold mb-2\">\r\n                    ${precioPromo.toFixed(2)}\r\n                </p>\r\n            )}\r\n\r\n            {/* --- √ÅREA DE ACCIONES CON WISHLIST --- */}\r\n            <div className=\"flex items-center justify-center gap-2 mt-auto\">\r\n                <Button\r\n                    onClick={handleWishlistClick}\r\n                    className={`w-10 h-10 rounded-full flex items-center justify-center\r\n                                transition-all duration-200 ease-in-out transform\r\n                                hover:scale-110 focus:outline-none cursor-pointer dark:hover:bg-blue-950\r\n                                ${\r\n                                    isProductInWishlist\r\n                                        ? \"bg-pink-500 text-white shadow-lg\"\r\n                                        : \"bg-yellow-400 dark:bg-gray-100 text-white dark:text-gray-500 hover:text-pink-500 shadow-xs  \"\r\n                                }`}\r\n                    aria-label=\"A√±adir a la lista de deseos\">\r\n                    <Heart\r\n                        className={`w-5 h-5 transition-all duration-200 ${\r\n                            isProductInWishlist ? \"fill-current\" : \"\"\r\n                        }`}\r\n                    />\r\n                </Button>\r\n                <Button\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        onAdd(producto);\r\n                    }}\r\n                    className=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-xl transition cursor-pointer\">\r\n                    A√±adir al carrito\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 355, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/app/%28routes%29/productos/components/SearchBar.tsx"],"sourcesContent":["// components/catalogo/SearchBar.tsx ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\r\n\"use client\";\r\n\r\n/**\r\n * Props de `SearchBar`.\r\n * @property value    Texto actual del input.\r\n * @property onChange Callback para actualizar el texto.\r\n */\r\ninterface Props {\r\n  value: string;\r\n  onChange: (v: string) => void;\r\n}\r\n\r\n/**\r\n * **SearchBar**\r\n *\r\n * Barra de b√∫squeda simple.\r\n */\r\nexport default function SearchBar({ value, onChange }: Props) {\r\n  return (\r\n    <div className=\"flex justify-center mb-6\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"üîç Buscar producto‚Ä¶\"\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        className=\"w-full max-w-md px-5 py-3 rounded-xl bg-white shadow-sm\r\n                   border border-green-300 text-black focus:outline-none\r\n                   focus:ring-2 focus:ring-green-400\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,4EAA4E;;;;;AAC5E;;AAiBe,SAAS,UAAU,EAAE,KAAK,EAAE,QAAQ,EAAS;IAC1D,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,MAAK;YACL,aAAY;YACZ,OAAO;YACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;YACxC,WAAU;;;;;;;;;;;AAMlB","debugId":null}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/app/%28routes%29/productos/components/FilterButton.tsx"],"sourcesContent":["\"use client\";\r\n\r\n/**\r\n * **FilterButton**\r\n *\r\n * Bot√≥n de acceso r√°pido al modal de filtros en la p√°gina de cat√°logo.\r\n */\r\nexport default function FilterButton({ onClick }: { onClick: () => void }) {\r\n  return (\r\n    <div className=\"flex items-center gap-2 justify-center mb-8\">\r\n      <span className=\"font-semibold dark:text-white\">Filtrar por:</span>\r\n\r\n      <button\r\n        onClick={onClick}\r\n        className=\"\r\n          flex items-center gap-1 px-3 py-1.5 rounded-full border shadow-sm\r\n          border-gray-300  bg-white  text-gray-800\r\n          hover:bg-gray-100\r\n\r\n          transition\r\n        \"\r\n      >\r\n        {/* Icono embudo */}\r\n        <svg\r\n          className=\"w-4 h-4\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          strokeWidth={2}\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            d=\"M3 4h18l-7 9v7H10v-7L3 4z\"\r\n          />\r\n        </svg>\r\n        <span className=\"text-sm hidden sm:inline\">Abrir filtros</span>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAOe,SAAS,aAAa,EAAE,OAAO,EAA2B;IACvE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAK,WAAU;0BAAgC;;;;;;0BAEhD,8OAAC;gBACC,SAAS;gBACT,WAAU;;kCASV,8OAAC;wBACC,WAAU;wBACV,MAAK;wBACL,QAAO;wBACP,aAAa;wBACb,SAAQ;kCAER,cAAA,8OAAC;4BACC,eAAc;4BACd,gBAAe;4BACf,GAAE;;;;;;;;;;;kCAGN,8OAAC;wBAAK,WAAU;kCAA2B;;;;;;;;;;;;;;;;;;AAInD","debugId":null}},
    {"offset": {"line": 457, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/app/%28routes%29/productos/components/FilterModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\n\r\ninterface Props {\r\n  show: boolean;\r\n  onClose: () => void;\r\n\r\n  // filtros existentes\r\n  etiquetas: string[];\r\n  etiquetaActiva: string | null;\r\n  setEtiqueta: (e: string | null) => void;\r\n  precioMin: number;\r\n  precioMax: number;\r\n  setPrecioMin: (n: number) => void;\r\n  setPrecioMax: (n: number) => void;\r\n  limpiar: () => void;\r\n\r\n  // üëâ NUEVOS FLAGS\r\n  promos: boolean;\r\n  setPromos: (b: boolean) => void;\r\n  rating45: boolean;\r\n  setRating45: (b: boolean) => void;\r\n  nuevos: boolean;\r\n  setNuevos: (b: boolean) => void;\r\n}\r\n\r\nexport default function FilterModal({\r\n  show,\r\n  onClose,\r\n  etiquetas,\r\n  etiquetaActiva,\r\n  setEtiqueta,\r\n  precioMin,\r\n  precioMax,\r\n  setPrecioMin,\r\n  setPrecioMax,\r\n  limpiar,\r\n  promos,\r\n  setPromos,\r\n  rating45,\r\n  setRating45,\r\n  nuevos,\r\n  setNuevos,\r\n}: Props) {\r\n  /* bloqueo scroll */\r\n  useEffect(() => {\r\n    document.body.style.overflow = show ? \"hidden\" : \"auto\";\r\n  }, [show]);\r\n\r\n  if (!show) return null;\r\n\r\n  /* helper para clases de chip */\r\n  const chipClass = (active: boolean) =>\r\n    active\r\n      ? \"px-3 py-1.5 rounded-full border text-sm bg-green-500 text-white\"\r\n      : \"px-3 py-1.5 rounded-full border text-sm border-gray-300 bg-gray-100 text-gray-800 dark:border-amber-200 dark:bg-amber-100\";\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-start justify-center p-4 sm:pt-12\">\r\n      <button aria-label=\"Cerrar filtros\" onClick={onClose} className=\"absolute inset-0 bg-gray-900/40 backdrop-blur-sm\" />\r\n\r\n      <div className=\"relative w-full max-w-lg max-h-[90vh] overflow-y-auto rounded-2xl shadow-xl bg-white dark:bg-amber-100\">\r\n        {/* header */}\r\n        <div className=\"p-4 flex items-center justify-between border-b border-gray-200 dark:border-amber-100 dark:text-black\">\r\n          <h2 className=\"text-xl font-bold\">Filtrar por:</h2>\r\n          <button className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-amber-50\" onClick={onClose}>\r\n            ‚úï\r\n          </button>\r\n        </div>\r\n\r\n        {/* contenido */}\r\n        <div className=\"p-6 space-y-8 bg-white dark:bg-yellow-500 rounded-b-2xl\">\r\n          {/* chips r√°pidos */}\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            <button onClick={() => setPromos(!promos)}   className={chipClass(promos)}>üåü Promos</button>\r\n            <button onClick={() => setRating45(!rating45)} className={chipClass(rating45)}>‚≠ê +4.5</button>\r\n            <button onClick={() => setNuevos(!nuevos)}   className={chipClass(nuevos)}>üõí ¬°Nuevos!</button>\r\n          </div>\r\n\r\n          {/* categor√≠as */}\r\n          <div>\r\n            <h3 className=\"mb-2 font-semibold text-gray-800 dark:text-gray-800\">Categor√≠as</h3>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {etiquetas.map((cat) => {\r\n                const active = etiquetaActiva === cat;\r\n                return (\r\n                  <button\r\n                    key={cat}\r\n                    onClick={() => setEtiqueta(active ? null : cat)}\r\n                    className={\r\n                      active\r\n                        ? \"px-4 py-1.5 rounded-full text-sm capitalize border border-green-600 bg-green-500 text-white\"\r\n                        : \"px-4 py-1.5 rounded-full text-sm capitalize border border-gray-300 bg-white text-gray-700 hover:bg-gray-100 dark:border-amber-300 dark:bg-amber-100 dark:text-gray-800\"\r\n                    }\r\n                  >\r\n                    {cat}\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          {/* rango precio */}\r\n          <div>\r\n            <h3 className=\"mb-2 font-semibold text-gray-800 dark:text-gray-800\">Precio ($ USD)</h3>\r\n            <div className=\"flex flex-wrap gap-4\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <label className=\"text-sm dark:text-gray-800\">M√≠n:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={precioMin}\r\n                  onChange={(e) => setPrecioMin(Number(e.target.value))}\r\n                  className=\"w-24 px-3 py-1.5 text-center rounded-lg border border-gray-300 bg-white text-gray-800 focus:ring-2 focus:ring-green-500 dark:border-amber-300 dark:bg-amber-50 dark:text-gray-800\"\r\n                />\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <label className=\"text-sm dark:text-gray-800\">M√°x:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={precioMax}\r\n                  onChange={(e) => setPrecioMax(Number(e.target.value))}\r\n                  className=\"w-24 px-3 py-1.5 text-center rounded-lg border border-gray-300 bg-white text-gray-800 focus:ring-2 focus:ring-green-500 dark:border-amber-300 dark:bg-amber-100 dark:text-gray-800\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* acciones */}\r\n          <div className=\"flex gap-4 pt-2 border-t border-gray-200 dark:border-amber-300\">\r\n            <button onClick={limpiar} className=\"flex-1 py-2 rounded-xl border border-green-600 text-green-600 hover:bg-green-50 dark:bg-amber-100 dark:text-gray-800\">\r\n              Limpiar\r\n            </button>\r\n            <button onClick={onClose} className=\"flex-1 py-2 rounded-xl bg-green-500 hover:bg-green-600 text-white dark:text-gray-800\">\r\n              Aplicar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AA2Be,SAAS,YAAY,EAClC,IAAI,EACJ,OAAO,EACP,SAAS,EACT,cAAc,EACd,WAAW,EACX,SAAS,EACT,SAAS,EACT,YAAY,EACZ,YAAY,EACZ,OAAO,EACP,MAAM,EACN,SAAS,EACT,QAAQ,EACR,WAAW,EACX,MAAM,EACN,SAAS,EACH;IACN,kBAAkB,GAClB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAO,WAAW;IACnD,GAAG;QAAC;KAAK;IAET,IAAI,CAAC,MAAM,OAAO;IAElB,8BAA8B,GAC9B,MAAM,YAAY,CAAC,SACjB,SACI,oEACA;IAEN,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAO,cAAW;gBAAiB,SAAS;gBAAS,WAAU;;;;;;0BAEhE,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAoB;;;;;;0CAClC,8OAAC;gCAAO,WAAU;gCAA4D,SAAS;0CAAS;;;;;;;;;;;;kCAMlG,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAO,SAAS,IAAM,UAAU,CAAC;wCAAW,WAAW,UAAU;kDAAS;;;;;;kDAC3E,8OAAC;wCAAO,SAAS,IAAM,YAAY,CAAC;wCAAW,WAAW,UAAU;kDAAW;;;;;;kDAC/E,8OAAC;wCAAO,SAAS,IAAM,UAAU,CAAC;wCAAW,WAAW,UAAU;kDAAS;;;;;;;;;;;;0CAI7E,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAsD;;;;;;kDACpE,8OAAC;wCAAI,WAAU;kDACZ,UAAU,GAAG,CAAC,CAAC;4CACd,MAAM,SAAS,mBAAmB;4CAClC,qBACE,8OAAC;gDAEC,SAAS,IAAM,YAAY,SAAS,OAAO;gDAC3C,WACE,SACI,gGACA;0DAGL;+CARI;;;;;wCAWX;;;;;;;;;;;;0CAKJ,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAsD;;;;;;kDACpE,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAM,WAAU;kEAA6B;;;;;;kEAC9C,8OAAC;wDACC,MAAK;wDACL,OAAO;wDACP,UAAU,CAAC,IAAM,aAAa,OAAO,EAAE,MAAM,CAAC,KAAK;wDACnD,WAAU;;;;;;;;;;;;0DAGd,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAM,WAAU;kEAA6B;;;;;;kEAC9C,8OAAC;wDACC,MAAK;wDACL,OAAO;wDACP,UAAU,CAAC,IAAM,aAAa,OAAO,EAAE,MAAM,CAAC,KAAK;wDACnD,WAAU;;;;;;;;;;;;;;;;;;;;;;;;0CAOlB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAO,SAAS;wCAAS,WAAU;kDAAuH;;;;;;kDAG3J,8OAAC;wCAAO,SAAS;wCAAS,WAAU;kDAAuF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQvI","debugId":null}},
    {"offset": {"line": 719, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/hooks/useBodyScrollLock.ts"],"sourcesContent":["import { useEffect } from \"react\";\r\n\r\n/**\r\n * Bloquea el scroll del <body> mientras `active` sea true.\r\n */\r\nexport default function useBodyScrollLock(active: boolean) {\r\n  useEffect(() => {\r\n    if (!active) return;\r\n    const prev = document.body.style.overflow;\r\n    document.body.style.overflow = \"hidden\";\r\n    return () => {\r\n      document.body.style.overflow = prev;\r\n    };\r\n  }, [active]);\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;AAKe,SAAS,kBAAkB,MAAe;IACvD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,QAAQ;QACb,MAAM,OAAO,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ;QACzC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QAC/B,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;IACF,GAAG;QAAC;KAAO;AACb","debugId":null}},
    {"offset": {"line": 742, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/hooks/useEscapeKey.ts"],"sourcesContent":["/**\r\n * useEscapeKey\r\n * -----------------------------------------------------------------------------\r\n * Detecta la pulsaci√≥n de la tecla **Escape** y ejecuta un callback.\r\n * Muy √∫til para cerrar modales, sidebars o pop-ups con el teclado.\r\n *\r\n * @param onEscape ‚Äî Funci√≥n que se dispara al presionar Esc.\r\n * @param enabled  ‚Äî Si es `false`, el listener no se registra.\r\n *\r\n * Detalles:\r\n *   ‚Ä¢ El listener se adjunta a `window` √∫nicamente cuando `enabled` es `true`.\r\n *   ‚Ä¢ El efecto limpia el listener autom√°ticamente al desmontar o cuando\r\n *     `enabled` cambia, evitando fugas de memoria.\r\n */\r\nimport { useEffect } from \"react\"\r\n\r\nexport default function useEscapeKey(\r\n  onEscape: () => void,\r\n  enabled: boolean\r\n) {\r\n  useEffect(() => {\r\n    if (!enabled) return                     // Early-exit si no est√° activo\r\n\r\n    const handler = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") onEscape()\r\n    }\r\n\r\n    window.addEventListener(\"keydown\", handler)\r\n\r\n    /* Limpieza ************************************************************* */\r\n    return () => window.removeEventListener(\"keydown\", handler)\r\n  }, [enabled, onEscape])\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;CAaC;;;AACD;;AAEe,SAAS,aACtB,QAAoB,EACpB,OAAgB;IAEhB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,SAAS,QAA2B,+BAA+B;QAExE,MAAM,UAAU,CAAC;YACf,IAAI,EAAE,GAAG,KAAK,UAAU;QAC1B;QAEA,OAAO,gBAAgB,CAAC,WAAW;QAEnC,0EAA0E,GAC1E,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG;QAAC;QAAS;KAAS;AACxB","debugId":null}},
    {"offset": {"line": 779, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/app/%28routes%29/productos/components/QuantitySelector.tsx"],"sourcesContent":["// components/catalogo/QuantitySelector.tsx\r\n\"use client\";\r\n\r\ntype Props = {\r\n    value: number;\r\n    onChange: (n: number) => void;\r\n    min?: number;\r\n    max?: number; // (no usado a√∫n, por si se quiere limitar)\r\n};\r\n\r\n/**\r\n * **QuantitySelector**\r\n *\r\n * Selector de cantidad con ‚Äì / + y un icono de ‚Äúbasura‚Äù cuando est√° en el\r\n * m√≠nimo (sem√°ntica ‚Äúeliminar‚Äù).\r\n */\r\nexport default function QuantitySelector({ value, onChange, min = 1 }: Props) {\r\n    return (\r\n        <div className=\"flex items-center border rounded-xl px-2 py-1 min-w-[100px] bg-white dark:bg-white/10 border-gray-200 dark:border-white/20\">\r\n            {/* Disminuir / eliminar */}\r\n            <button\r\n                aria-label={value > min ? \"Disminuir\" : \"Eliminar\"}\r\n                className=\"p-1\"\r\n                onClick={() => onChange(Math.max(min, value - 1))}>\r\n                {value === min ? (\r\n                    /* trash icon */\r\n                    <svg\r\n                        className=\"w-5 h-5 text-gray-500 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-100/10 rounded-xl\"\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        strokeWidth={2}\r\n                        viewBox=\"0 0 24 24\">\r\n                        <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            d=\"M6 7h12M9 7V6a2 2 0 012-2h2a2 2 0 012 2v1m-7 0v10a2 2 0 002 2h4a2 2 0 002-2V7M10 11v6m4-6v6\"\r\n                        />\r\n                    </svg>\r\n                ) : (\r\n                    /* minus icon */\r\n                    <svg\r\n                        className=\"w-5 h-5 text-gray-500 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-100/10 rounded-xl\"\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        strokeWidth={2}\r\n                        viewBox=\"0 0 24 24\">\r\n                        <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            d=\"M20 12H4\"\r\n                        />\r\n                    </svg>\r\n                )}\r\n            </button>\r\n\r\n            <span className=\"w-6 text-center font-mono text-lg select-none text-gray-800 dark:text-white\">\r\n                {value}\r\n            </span>\r\n\r\n            {/* Aumentar */}\r\n            <button\r\n                aria-label=\"Aumentar\"\r\n                className=\"p-1 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-100/10 rounded-xl\"\r\n                onClick={() => onChange(value + 1)}>\r\n                <svg\r\n                    className=\"w-5 h-5 text-gray-500\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth={2}\r\n                    viewBox=\"0 0 24 24\">\r\n                    <path\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                        d=\"M12 4v16m8-8H4\"\r\n                    />\r\n                </svg>\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"AAAA,2CAA2C;;;;;AAC3C;;AAee,SAAS,iBAAiB,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,CAAC,EAAS;IACxE,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBACG,cAAY,QAAQ,MAAM,cAAc;gBACxC,WAAU;gBACV,SAAS,IAAM,SAAS,KAAK,GAAG,CAAC,KAAK,QAAQ;0BAC7C,UAAU,MACP,cAAc,iBACd,8OAAC;oBACG,WAAU;oBACV,MAAK;oBACL,QAAO;oBACP,aAAa;oBACb,SAAQ;8BACR,cAAA,8OAAC;wBACG,eAAc;wBACd,gBAAe;wBACf,GAAE;;;;;;;;;;2BAIV,cAAc,iBACd,8OAAC;oBACG,WAAU;oBACV,MAAK;oBACL,QAAO;oBACP,aAAa;oBACb,SAAQ;8BACR,cAAA,8OAAC;wBACG,eAAc;wBACd,gBAAe;wBACf,GAAE;;;;;;;;;;;;;;;;0BAMlB,8OAAC;gBAAK,WAAU;0BACX;;;;;;0BAIL,8OAAC;gBACG,cAAW;gBACX,WAAU;gBACV,SAAS,IAAM,SAAS,QAAQ;0BAChC,cAAA,8OAAC;oBACG,WAAU;oBACV,MAAK;oBACL,QAAO;oBACP,aAAa;oBACb,SAAQ;8BACR,cAAA,8OAAC;wBACG,eAAc;wBACd,gBAAe;wBACf,GAAE;;;;;;;;;;;;;;;;;;;;;;AAM1B","debugId":null}},
    {"offset": {"line": 888, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/app/%28routes%29/productos/components/OptionSelect.tsx"],"sourcesContent":["// components/catalogo/OptionSelect.tsx\r\n\"use client\";\r\n\r\ntype Props = {\r\n  label: string;\r\n  value: string;\r\n  options: (string | number)[];\r\n  onChange: (v: string) => void;\r\n};\r\n\r\n/**\r\n * **OptionSelect**\r\n *\r\n * Selector gen√©rico (HTML `<select>`) para escoger variantes de producto\r\n * (tama√±o, sabor, etc.).\r\n */\r\nexport default function OptionSelect({ label, value, options, onChange }: Props) {\r\n  return (\r\n    <div className=\"space-y-1\">\r\n      <label className=\"block font-semibold capitalize dark:text-gray-800\">{label}</label>\r\n\r\n      <div className=\"relative\">\r\n        <select\r\n          value={value}\r\n          onChange={(e) => onChange(e.target.value)}\r\n          className=\"w-full appearance-none border border-gray-300 dark:border-gray-600\r\n                     bg-white dark:[background-color:#ffd68a] text-gray-800 dark:text-gray-800\r\n                     rounded-lg px-3 py-2 pr-10 focus:ring-2 focus:ring-green-400 focus:outline-none\"\r\n        >\r\n          {options.map((v) => (\r\n            <option key={v}>{v}</option>\r\n          ))}\r\n        </select>\r\n\r\n        {/* flecha */}\r\n        <svg className=\"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n          <path d=\"M7 7l3 3 3-3\" stroke=\"currentColor\" strokeWidth={2} fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,uCAAuC;;;;;AACvC;;AAee,SAAS,aAAa,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAS;IAC7E,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAM,WAAU;0BAAqD;;;;;;0BAEtE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,WAAU;kCAIT,QAAQ,GAAG,CAAC,CAAC,kBACZ,8OAAC;0CAAgB;+BAAJ;;;;;;;;;;kCAKjB,8OAAC;wBAAI,WAAU;wBAAsF,MAAK;wBAAe,SAAQ;kCAC/H,cAAA,8OAAC;4BAAK,GAAE;4BAAe,QAAO;4BAAe,aAAa;4BAAG,MAAK;4BAAO,eAAc;4BAAQ,gBAAe;;;;;;;;;;;;;;;;;;;;;;;AAKxH","debugId":null}},
    {"offset": {"line": 966, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/app/%28routes%29/productos/components/StarRating.tsx"],"sourcesContent":["// components/ui/StarRating.tsx ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\r\n\"use client\";\r\n\r\ntype Props = {\r\n  /** Valor actual (1-5). */\r\n  value: number;\r\n  /** Manejador opcional cuando el usuario pulsa una estrella. */\r\n  onChange?: (v: number) => void;\r\n  /** Modo solo lectura (deshabilita interactividad y tab). */\r\n  readOnly?: boolean;\r\n};\r\n\r\n/**\r\n * **StarRating**\r\n *\r\n * Renderiza 5 estrellas llenas/vac√≠as y permite seleccionar la calificaci√≥n\r\n * Sin estado interno: controlado por el padre.\r\n */\r\nexport default function StarRating({ value, onChange, readOnly }: Props) {\r\n  return (\r\n    <div className=\"flex gap-0.5\">\r\n      {[1, 2, 3, 4, 5].map((star) => (\r\n        <button\r\n          key={star}\r\n          type=\"button\"\r\n          onClick={() => onChange?.(star)}\r\n          disabled={readOnly}\r\n          tabIndex={readOnly ? -1 : 0}\r\n        >\r\n          <svg\r\n            className={`w-5 h-5 ${star <= value ? \"text-yellow-400\" : \"text-gray-300\"}`}\r\n            fill=\"currentColor\"\r\n            viewBox=\"0 0 20 20\"\r\n          >\r\n            <path d=\"M10 15l-5.09 2.67 1-5.8-4.21-4.1 5.82-.85L10 2.5l2.48 5.02 5.82.85-4.21 4.1 1 5.8z\" />\r\n          </svg>\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,6EAA6E;;;;;AAC7E;;AAiBe,SAAS,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAS;IACrE,qBACE,8OAAC;QAAI,WAAU;kBACZ;YAAC;YAAG;YAAG;YAAG;YAAG;SAAE,CAAC,GAAG,CAAC,CAAC,qBACpB,8OAAC;gBAEC,MAAK;gBACL,SAAS,IAAM,WAAW;gBAC1B,UAAU;gBACV,UAAU,WAAW,CAAC,IAAI;0BAE1B,cAAA,8OAAC;oBACC,WAAW,CAAC,QAAQ,EAAE,QAAQ,QAAQ,oBAAoB,iBAAiB;oBAC3E,MAAK;oBACL,SAAQ;8BAER,cAAA,8OAAC;wBAAK,GAAE;;;;;;;;;;;eAXL;;;;;;;;;;AAiBf","debugId":null}},
    {"offset": {"line": 1020, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/app/%28routes%29/productos/components/ReviewForm.tsx"],"sourcesContent":["// components/catalogo/ReviewForm.tsx\r\n\"use client\";\r\n\r\nimport { useEffect, useRef, useState, type FormEvent } from \"react\";\r\nimport StarRating from \"./StarRating\";\r\n\r\ntype Props = {\r\n  /** Callback que recibe los datos validados y controlar√° el guardado */\r\n  onSubmit: (d: { nombre: string; comentario: string; calificacion: number }) => void;\r\n};\r\n\r\n/**\r\n * **ReviewForm**\r\n *\r\n * Formulario compacto que se expande al hacer foco.\r\n * Valida campos requeridos y reinicia estado al enviar.\r\n */\r\nexport default function ReviewForm({ onSubmit }: Props) {\r\n  const [open, setOpen]           = useState(false);\r\n  const [nombre, setNombre]       = useState(\"\");\r\n  const [comentario, setComentario] = useState(\"\");\r\n  const [calificacion, setCalificacion] = useState(5);\r\n\r\n  const inputRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  /* Autofocus cuando se despliega */\r\n  useEffect(() => { if (open) inputRef.current?.focus(); }, [open]);\r\n\r\n  const handleSubmit = (e: FormEvent) => {\r\n    e.preventDefault();\r\n    if (!nombre.trim() || !comentario.trim()) return;\r\n\r\n    onSubmit({ nombre, comentario, calificacion });\r\n    setNombre(\"\"); setComentario(\"\"); setCalificacion(5); setOpen(false);\r\n  };\r\n\r\n  /* ------------- UI ------------- */\r\n  return (\r\n    <div\r\n      className={`transition-all duration-300 bg-transparent border-b dark:border-white/30 pb-2 ${open ? \"mb-2\" : \"\"}`}\r\n    >\r\n      {!open ? (\r\n        <button\r\n          aria-label=\"A√±ade una rese√±a\"\r\n          className=\"flex w-full gap-2 text-gray-500 hover:text-gray-700 dark:text-white/70 dark:hover:text-white px-2 py-2 rounded\"\r\n          onClick={() => setOpen(true)}\r\n        >\r\n          <span className=\"flex-1 opacity-80 text-left\">A√±ade una rese√±a‚Ä¶</span>\r\n        </button>\r\n      ) : (\r\n        <form onSubmit={handleSubmit} className=\"flex flex-col gap-2\">\r\n          {/* Comentario */}\r\n          <textarea\r\n            ref={inputRef}\r\n            required\r\n            placeholder=\"A√±ade una rese√±a‚Ä¶\"\r\n            value={comentario}\r\n            maxLength={200}\r\n            onChange={(e) => setComentario(e.target.value)}\r\n            rows={2}\r\n            className=\"flex-1 resize-none rounded-lg border px-3 py-2 focus:ring-2 focus:ring-green-300 text-base text-gray-800 dark:text-white bg-white dark:bg-white/10 border-gray-300 dark:border-white/20\"\r\n            style={{ minHeight: 38 }}\r\n            onBlur={(e) => {\r\n              if (!e.target.value.trim() && !nombre.trim()) setOpen(false);\r\n            }}\r\n          />\r\n\r\n          {(comentario.trim() || nombre.trim()) && (\r\n            <div className=\"flex flex-col sm:flex-row gap-2 items-center justify-between\">\r\n              {/* Nombre */}\r\n              <input\r\n                type=\"text\"\r\n                required\r\n                placeholder=\"Tu nombre\"\r\n                value={nombre}\r\n                maxLength={30}\r\n                onChange={(e) => setNombre(e.target.value)}\r\n                className=\"rounded-lg border px-3 py-2 focus:ring-2 focus:ring-green-300 w-full sm:w-48 text-gray-800 dark:text-white bg-white dark:bg-white/10 border-gray-300 dark:border-white/20\"\r\n              />\r\n\r\n              {/* Rating */}\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"font-bold text-gray-700 dark:text-white\">Calificaci√≥n:</span>\r\n                <StarRating value={calificacion} onChange={setCalificacion} />\r\n              </div>\r\n\r\n              {/* Publicar */}\r\n              <button\r\n                type=\"submit\"\r\n                className=\"ml-auto bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-xl transition\"\r\n              >\r\n                Publicar\r\n              </button>\r\n            </div>\r\n          )}\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;;AAGrC;AACA;AAHA;;;;AAgBe,SAAS,WAAW,EAAE,QAAQ,EAAS;IACpD,MAAM,CAAC,MAAM,QAAQ,GAAa,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,QAAQ,UAAU,GAAS,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,WAAW,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAuB;IAE7C,iCAAiC,GACjC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QAAQ,IAAI,MAAM,SAAS,OAAO,EAAE;IAAS,GAAG;QAAC;KAAK;IAEhE,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAI,CAAC,OAAO,IAAI,MAAM,CAAC,WAAW,IAAI,IAAI;QAE1C,SAAS;YAAE;YAAQ;YAAY;QAAa;QAC5C,UAAU;QAAK,cAAc;QAAK,gBAAgB;QAAI,QAAQ;IAChE;IAEA,kCAAkC,GAClC,qBACE,8OAAC;QACC,WAAW,CAAC,8EAA8E,EAAE,OAAO,SAAS,IAAI;kBAE/G,CAAC,qBACA,8OAAC;YACC,cAAW;YACX,WAAU;YACV,SAAS,IAAM,QAAQ;sBAEvB,cAAA,8OAAC;gBAAK,WAAU;0BAA8B;;;;;;;;;;iCAGhD,8OAAC;YAAK,UAAU;YAAc,WAAU;;8BAEtC,8OAAC;oBACC,KAAK;oBACL,QAAQ;oBACR,aAAY;oBACZ,OAAO;oBACP,WAAW;oBACX,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oBAC7C,MAAM;oBACN,WAAU;oBACV,OAAO;wBAAE,WAAW;oBAAG;oBACvB,QAAQ,CAAC;wBACP,IAAI,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,IAAI,IAAI,QAAQ;oBACxD;;;;;;gBAGD,CAAC,WAAW,IAAI,MAAM,OAAO,IAAI,EAAE,mBAClC,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BACC,MAAK;4BACL,QAAQ;4BACR,aAAY;4BACZ,OAAO;4BACP,WAAW;4BACX,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;4BACzC,WAAU;;;;;;sCAIZ,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CAA0C;;;;;;8CAC1D,8OAAC,2JAAA,CAAA,UAAU;oCAAC,OAAO;oCAAc,UAAU;;;;;;;;;;;;sCAI7C,8OAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AASf","debugId":null}},
    {"offset": {"line": 1171, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/app/%28routes%29/productos/components/ReviewList.tsx"],"sourcesContent":["// components/catalogo/ReviewList.tsx\r\n\"use client\";\r\n\r\nimport StarRating from \"./StarRating\";\r\n\r\nimport { Rese√±a } from \"../data/reviews\";\r\n\r\ntype Props = { reviews: Rese√±a[] };\r\n\r\n/**\r\n * **ReviewList**\r\n *\r\n * Lista las rese√±as de un producto con su calificaci√≥n en estrellas.\r\n * Muestra un placeholder cuando no hay rese√±as.\r\n */\r\nexport default function ReviewList({ reviews }: Props) {\r\n    if (reviews.length === 0) {\r\n        return (\r\n            <div className=\"text-gray-500 italic text-center py-8\">\r\n                Sin rese√±as todav√≠a\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-4\">\r\n            {reviews.map((r) => (\r\n                <div\r\n                    key={r.id}\r\n                    className=\"flex flex-col gap-1 border-b dark:border-white/30 pb-3 last:border-b-0 last:pb-0\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <span className=\"font-bold text-green-700\">\r\n                            {r.usuario}\r\n                        </span>\r\n                        <StarRating value={r.calificacion} readOnly />\r\n                        <span className=\"ml-auto text-xs text-gray-400\">\r\n                            {r.fecha}\r\n                        </span>\r\n                    </div>\r\n                    <p className=\"text-gray-700 dark:text-white\">\r\n                        {r.comentario}\r\n                    </p>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;;AAGrC;AAFA;;;AAce,SAAS,WAAW,EAAE,OAAO,EAAS;IACjD,IAAI,QAAQ,MAAM,KAAK,GAAG;QACtB,qBACI,8OAAC;YAAI,WAAU;sBAAwC;;;;;;IAI/D;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACV,QAAQ,GAAG,CAAC,CAAC,kBACV,8OAAC;gBAEG,WAAU;;kCACV,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAK,WAAU;0CACX,EAAE,OAAO;;;;;;0CAEd,8OAAC,2JAAA,CAAA,UAAU;gCAAC,OAAO,EAAE,YAAY;gCAAE,QAAQ;;;;;;0CAC3C,8OAAC;gCAAK,WAAU;0CACX,EAAE,KAAK;;;;;;;;;;;;kCAGhB,8OAAC;wBAAE,WAAU;kCACR,EAAE,UAAU;;;;;;;eAZZ,EAAE,EAAE;;;;;;;;;;AAkB7B","debugId":null}},
    {"offset": {"line": 1255, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/app/%28routes%29/productos/components/ProductDetailModal.tsx"],"sourcesContent":["// components/catalogo/ProductDetailModal.tsx\r\n\"use client\";\r\n\r\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport Image from \"next/image\";\r\nimport { Producto } from \"@/lib/data/productos\";\r\nimport { getTotalPromo } from \"@/lib/precio-producto\";\r\nimport { rese√±as as initialReviews } from \"../data/reviews\";\r\n\r\nimport useBodyScrollLock from \"@/hooks/useBodyScrollLock\";\r\nimport useEscapeKey from \"@/hooks/useEscapeKey\";\r\n\r\nimport QuantitySelector from \"./QuantitySelector\";\r\nimport OptionSelect from \"./OptionSelect\";\r\nimport ReviewForm from \"./ReviewForm\";\r\nimport ReviewList from \"./ReviewList\";\r\nimport type { Rese√±a } from \"../data/reviews\";\r\n\r\ninterface Props {\r\n    product: Producto | null;\r\n    show: boolean;\r\n    onClose: () => void;\r\n    /**\r\n     * A√±ade al carrito:\r\n     * - `p`      ‚Üí producto\r\n     * - `opts`   ‚Üí opciones seleccionadas\r\n     * - `qty`    ‚Üí cantidad\r\n     */\r\n    onAdd: (\r\n        p: Producto,\r\n        opts: Record<string, string | number>,\r\n        qty: number\r\n    ) => void;\r\n}\r\n\r\ntype ReviewInput = { nombre: string; comentario: string; calificacion: number };\r\n\r\n/**\r\n * **ProductDetailModal**\r\n *\r\n * Modal con detalles, opciones, cantidad, precio din√°mico y rese√±as.\r\n * Maneja bloqueo de scroll y cierre con `Esc`.\r\n */\r\nexport default function ProductDetailModal({\r\n    product,\r\n    show,\r\n    onClose,\r\n    onAdd,\r\n}: Props) {\r\n    /* -------------------- state & derived -------------------- */\r\n    const [sel, setSel] = useState<Record<string, string>>({});\r\n    const [cantidad, setCantidad] = useState(1);\r\n\r\n    const [reviews, setReviews] = useState<Rese√±a[]>(initialReviews);\r\n    const [openReviews, setOpenReviews] = useState(false);\r\n    const reviewsEndRef = useRef<HTMLDivElement>(null);\r\n\r\n    /* ---------- reset opciones al cambiar de producto ---------- */\r\n    useEffect(() => {\r\n        if (product?.opciones) {\r\n            const def: Record<string, string> = {};\r\n            Object.entries(product.opciones).forEach(\r\n                ([k, v]) => (def[k] = String(v[0]))\r\n            );\r\n            setSel(def);\r\n        } else setSel({});\r\n        setCantidad(1);\r\n    }, [product]);\r\n\r\n    /* ---------- hooks de UX ---------- */\r\n    useBodyScrollLock(show);\r\n    useEscapeKey(onClose, show);\r\n\r\n    /* ---------- callbacks ---------- */\r\n\r\n    const handleAddToCart = useCallback(() => {\r\n        onAdd(product!, sel, cantidad);\r\n        onClose();\r\n    }, [product, sel, cantidad, onAdd, onClose]);\r\n\r\n    const handleSubmitReview = useCallback(\r\n        ({ nombre, comentario, calificacion }: ReviewInput) => {\r\n            if (!product) return;\r\n            setReviews((prev) => [\r\n                ...prev,\r\n                {\r\n                    id: Date.now(),\r\n                    productoId: product.id,\r\n                    usuario: nombre,\r\n                    comentario,\r\n                    calificacion,\r\n                    fecha: new Date().toISOString().split(\"T\")[0],\r\n                },\r\n            ]);\r\n            setTimeout(\r\n                () =>\r\n                    reviewsEndRef.current?.scrollIntoView({\r\n                        behavior: \"smooth\",\r\n                    }),\r\n                150\r\n            );\r\n        },\r\n        [product]\r\n    );\r\n\r\n    const filteredReviews = useMemo(\r\n        () =>\r\n            product ? reviews.filter((r) => r.productoId === product.id) : [],\r\n        [product, reviews]\r\n    );\r\n\r\n    /* ---------- precio total ---------- */\r\n    const { total, old, tag, value } = useMemo(\r\n        () =>\r\n            product\r\n                ? getTotalPromo(product.promo, product.precio, cantidad)\r\n                : { total: 0, old: null, tag: null, value: null },\r\n        [product, cantidad]\r\n    );\r\n\r\n    /* ---------- early exit ---------- */\r\n    if (!show || !product) return null;\r\n\r\n    /* ---------- badge helpers ---------- */\r\n    const badgeBase = \"px-3 py-1 rounded-full font-simpson text-base shadow\";\r\n    const badgePromo =\r\n        \"bg-blue-500 text-yellow-300 dark:bg-yellow-300 dark:text-blue-600 border-2 border-blue-700 dark:border-yellow-400\";\r\n    const badgeTipo =\r\n        \"bg-yellow-300 text-blue-600 dark:bg-blue-700 dark:text-yellow-300 border-2 border-yellow-500 dark:border-blue-400\";\r\n\r\n    /* -------------------- UI -------------------- */\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4\"\r\n            style={{ overflowY: \"auto\" }}>\r\n            {/* overlay (para cerrar) */}\r\n            <button\r\n                aria-label=\"Cerrar\"\r\n                onClick={onClose}\r\n                className=\"absolute inset-0 cursor-default\"\r\n                tabIndex={-1}\r\n            />\r\n\r\n            {/* modal */}\r\n            <div className=\"relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-2xl shadow-xl max-h-[90vh] flex flex-col overflow-y-auto\">\r\n                {/* header */}\r\n                <header className=\"flex justify-between items-center p-4 border-b dark:border-white/30\">\r\n                    <div className=\"flex flex-col gap-1 flex-1\">\r\n                        <div className=\"flex items-center flex-wrap gap-2\">\r\n                            <h2 className=\"text-xl font-bold dark:text-gray-100\">\r\n                                {product.nombre}\r\n                            </h2>\r\n                            {product.promo && (\r\n                                <>\r\n                                    <span\r\n                                        className={`${badgeBase} ${badgePromo}`}>\r\n                                        PROMO\r\n                                    </span>\r\n                                    {tag && (\r\n                                        <span\r\n                                            className={`${badgeBase} ${badgeTipo}`}>\r\n                                            {tag === \"Descuento\" ? value : tag}\r\n                                        </span>\r\n                                    )}\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"p-2 rounded-full  hover:bg-gray-100 hover:dark:text-black cursor-pointer transition-colors\">\r\n                        ‚úï\r\n                    </button>\r\n                </header>\r\n\r\n                {/* body */}\r\n                <section className=\"px-5 py-6 flex flex-col gap-4 flex-1\">\r\n                    {/* info producto */}\r\n                    <div className=\"flex flex-col md:flex-row md:gap-8 items-center\">\r\n                        <Image\r\n                            src={product.imagen}\r\n                            alt={product.nombre}\r\n                            width={224}\r\n                            height={224}\r\n                            className=\"w-40 h-40 md:w-56 md:h-56 object-contain mb-3 md:mb-0\"\r\n                        />\r\n\r\n                        <div className=\"flex-1 flex flex-col gap-4\">\r\n                            <p className=\"text-gray-800 dark:text-gray-200\">\r\n                                {product.descripcion}\r\n                            </p>\r\n\r\n                            {/* opciones */}\r\n                            {product.opciones &&\r\n                                Object.entries(product.opciones).map(\r\n                                    ([k, vals]) => (\r\n                                        <OptionSelect\r\n                                            key={k}\r\n                                            label={k}\r\n                                            value={sel[k]}\r\n                                            options={vals}\r\n                                            onChange={(v) =>\r\n                                                setSel((s) => ({\r\n                                                    ...s,\r\n                                                    [k]: v,\r\n                                                }))\r\n                                            }\r\n                                        />\r\n                                    )\r\n                                )}\r\n\r\n                            {/* cantidad + precio */}\r\n                            <div className=\"flex items-center gap-4 mt-3\">\r\n                                <QuantitySelector\r\n                                    value={cantidad}\r\n                                    onChange={setCantidad}\r\n                                />\r\n\r\n                                <span className=\"ml-2 flex items-end gap-2\">\r\n                                    {old && (\r\n                                        <span className=\"text-red-500 line-through text-lg select-none\">\r\n                                            ${old.toFixed(2)}\r\n                                        </span>\r\n                                    )}\r\n                                    <span className=\"text-green-600 dark:text-green-400 select-none text-2xl font-extrabold\">\r\n                                        ${total.toFixed(2)}\r\n                                    </span>\r\n                                    {cantidad > 1 && (\r\n                                        <span className=\"text-xs text-gray-500\">\r\n                                            (total)\r\n                                        </span>\r\n                                    )}\r\n                                </span>\r\n                            </div>\r\n\r\n                            {/* botones */}\r\n                            <div className=\"flex items-center gap-4 mt-3\">\r\n                                <Button\r\n                                    onClick={onClose}\r\n                                    className=\"flex-1 py-2 rounded-xl border text-black dark:text-white dark:hover:bg-gray-600 hover:text-white border-gray-300 dark:border-white/20 bg-white dark:bg-white/50 cursor-pointer\">\r\n                                    Cancelar\r\n                                </Button>\r\n                                <button\r\n                                    onClick={handleAddToCart}\r\n                                    className=\"flex-1 py-2 rounded-xl bg-green-500 hover:bg-green-600 text-white cursor-pointer transition\">\r\n                                    A√±adir al carrito\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* rese√±as */}\r\n                    <ReviewForm onSubmit={handleSubmitReview} />\r\n\r\n                    <div className=\"flex items-center justify-between w-full mb-2\">\r\n                        <h3 className=\"text-lg font-bold text-gray-800 dark:text-white\">\r\n                            Rese√±as\r\n                        </h3>\r\n                        <button\r\n                            type=\"button\"\r\n                            className=\"text-blue-600 hover:underline font-bold text-sm dark:text-blue-400 cursor-pointer\"\r\n                            onClick={() => setOpenReviews((v) => !v)}>\r\n                            {openReviews ? \"Ocultar\" : \"Mostrar\"}\r\n                        </button>\r\n                    </div>\r\n\r\n                    {openReviews && (\r\n                        <>\r\n                            <ReviewList reviews={filteredReviews} />\r\n                            <div ref={reviewsEndRef} />\r\n                        </>\r\n                    )}\r\n                </section>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1642, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/juanf/OneDrive/Desktop/desarrolloweb/Kwik-E-Mart/frontend/kwik-e-mart/app/%28routes%29/productos/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useMemo, useState, useEffect } from \"react\";\r\nimport UseProductosPromo, {\r\n    type Producto,\r\n} from \"@/components/useProductosPromo\";\r\n\r\nimport ProductCard from \"./components/ProductCard\";\r\nimport SearchBar from \"./components/SearchBar\";\r\nimport FilterButton from \"./components/FilterButton\";\r\nimport FilterModal from \"./components/FilterModal\";\r\nimport ProductDetailModal from \"./components/ProductDetailModal\";\r\nimport { useCart } from \"@/lib/cart-context\";\r\n\r\n/* üëâ array de rese√±as para calcular promedios */\r\nimport { obtenerRese√±as } from \"./data/reviews\";\r\n\r\n/* helpers */\r\nconst getDefaultOpts = (\r\n    p: Producto\r\n): Record<string, string | number> | undefined => {\r\n    if (!p.opciones) return undefined;\r\n    const def: Record<string, string | number> = {};\r\n    for (const [k, vals] of Object.entries(p.opciones)) {\r\n        if (Array.isArray(vals) && vals.length) def[k] = vals[0];\r\n    }\r\n    return Object.keys(def).length ? def : undefined;\r\n};\r\n\r\nexport default function CatalogoPage() {\r\n    const productos = UseProductosPromo();\r\n    const [allReviews, setAllReviews] = useState<\r\n        Awaited<ReturnType<typeof obtenerRese√±as>>\r\n    >([]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const reviews = await obtenerRese√±as();\r\n            setAllReviews(reviews);\r\n        })();\r\n    }, []);\r\n\r\n    /* ---------- filtros de UI ---------- */\r\n    const [min, setMin] = useState(0);\r\n    const [max, setMax] = useState(0);\r\n    const [search, setSearch] = useState(\"\");\r\n    const [tag, setTag] = useState<string | null>(null);\r\n\r\n    const [promos, setPromos] = useState(false);\r\n    const [nuevos, setNuevos] = useState(false);\r\n    const [rating45, setRating45] = useState(false);\r\n\r\n    const [showFilters, setShowFilters] = useState(false);\r\n    const [details, setDetails] = useState<Producto | null>(null);\r\n\r\n    /* rango precio inicial */\r\n    useEffect(() => {\r\n        if (productos.length) {\r\n            const precios = productos.map((p) => p.precio);\r\n            setMin(Math.min(...precios));\r\n            setMax(Math.max(...precios));\r\n        }\r\n    }, [productos]);\r\n\r\n    /* ---------- carrito ---------- */\r\n    const { addItem } = useCart();\r\n\r\n    const addSimple = (p: Producto) =>\r\n        addItem({\r\n            id: String(p.id),\r\n            name: p.nombre,\r\n            price: p.precio,\r\n            image: p.imagen,\r\n            quantity: 1,\r\n            options: getDefaultOpts(p),\r\n            promo: p.promo,\r\n        });\r\n\r\n    const addWithOpts = (\r\n        p: Producto,\r\n        opts: Record<string, string | number>,\r\n        qty: number\r\n    ) =>\r\n        addItem({\r\n            id: String(p.id),\r\n            name: p.nombre,\r\n            price: p.precio,\r\n            image: p.imagen,\r\n            quantity: qty,\r\n            options: opts,\r\n            promo: p.promo,\r\n        });\r\n\r\n    /* ---------- filtrado ---------- */\r\n    const list = useMemo(() => {\r\n        const term = search.trim().toLowerCase();\r\n        return productos.filter((p) => {\r\n            /* b√°sicos */\r\n            const okName = !term || p.nombre.toLowerCase().includes(term);\r\n            const okTag = !tag || p.etiquetas.includes(tag);\r\n            const okP = p.precio >= min && p.precio <= max;\r\n\r\n            /* nuevos criterios */\r\n            const okPromos = !promos || !!p.promo;\r\n            const okNuevos = !nuevos || p.promo?.tipo === \"nuevo\";\r\n\r\n            /* rating medio */\r\n            const reviews = allReviews.filter((r) => r.productoId === p.id);\r\n            const avg = reviews.length\r\n                ? reviews.reduce((s, r) => s + r.calificacion, 0) /\r\n                  reviews.length\r\n                : 0;\r\n            const okRating = !rating45 || avg >= 4.5;\r\n\r\n            return okName && okTag && okP && okPromos && okNuevos && okRating;\r\n        });\r\n    }, [\r\n        productos,\r\n        search,\r\n        tag,\r\n        min,\r\n        max,\r\n        promos,\r\n        nuevos,\r\n        rating45,\r\n        allReviews,\r\n    ]);\r\n\r\n    /* etiquetas √∫nicas */\r\n    const allTags = useMemo(\r\n        () => Array.from(new Set(productos.flatMap((p) => p.etiquetas))),\r\n        [productos]\r\n    );\r\n\r\n    /* reset */\r\n    const reset = () => {\r\n        setSearch(\"\");\r\n        setTag(null);\r\n        setPromos(false);\r\n        setNuevos(false);\r\n        setRating45(false);\r\n        if (productos.length) {\r\n            const precios = productos.map((p) => p.precio);\r\n            setMin(Math.min(...precios));\r\n            setMax(Math.max(...precios));\r\n        }\r\n    };\r\n\r\n    /* loader */\r\n    if (!productos.length) {\r\n        return (\r\n            <main className=\"min-h-screen flex items-center justify-center\">\r\n                <span className=\"text-2xl text-gray-500\">\r\n                    Cargando productos‚Ä¶\r\n                </span>\r\n            </main>\r\n        );\r\n    }\r\n\r\n    /* UI */\r\n    return (\r\n        <main className=\"min-h-screen bg-yellow-50 dark:bg-gray-800 py-10 px-6\">\r\n            <h1 className=\"text-4xl font-extrabold text-green-500 dark:text-yellow-500 text-center mb-4\">\r\n                üõí Productos del Kwik-E-Mart\r\n            </h1>\r\n            <p className=\"text-center text-lg text-gray-700 dark:text-white mb-6\">\r\n                Explora nuestra variedad de productos y a√±ade tus favoritos al\r\n                carrito.\r\n            </p>\r\n\r\n            {/* buscador + filtros */}\r\n            <SearchBar value={search} onChange={setSearch} />\r\n            <FilterButton onClick={() => setShowFilters(true)} />\r\n\r\n            {list.length === 0 ? (\r\n                <p className=\"text-center text-gray-600\">\r\n                    No encontramos productos.\r\n                </p>\r\n            ) : (\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 max-w-6xl mx-auto\">\r\n                    {list.map((p) => (\r\n                        <ProductCard\r\n                            key={p.id}\r\n                            producto={p}\r\n                            onAdd={addSimple}\r\n                            onSelect={setDetails}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* modal filtros */}\r\n            <FilterModal\r\n                show={showFilters}\r\n                onClose={() => setShowFilters(false)}\r\n                etiquetas={allTags}\r\n                etiquetaActiva={tag}\r\n                setEtiqueta={setTag}\r\n                precioMin={min}\r\n                setPrecioMin={setMin}\r\n                precioMax={max}\r\n                setPrecioMax={setMax}\r\n                limpiar={reset}\r\n                /* nuevos flags */\r\n                promos={promos}\r\n                setPromos={setPromos}\r\n                rating45={rating45}\r\n                setRating45={setRating45}\r\n                nuevos={nuevos}\r\n                setNuevos={setNuevos}\r\n            />\r\n\r\n            {/* modal detalle */}\r\n            <ProductDetailModal\r\n                show={Boolean(details)}\r\n                product={details}\r\n                onClose={() => setDetails(null)}\r\n                onAdd={addWithOpts}\r\n            />\r\n        </main>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}